<div class="flex h-screen caret-transparent">
  <!-- Sección de imagen promocional -->
<div class="flex-1 bg-gray-100 flex items-center justify-center overflow-hidden">
    <img
        src="images/markus-spiske-RWTUrJf7I5w-unsplash.jpg"
        alt="Promoción"
        class="w-full h-full object-cover rounded-lg"
        style="width: 100%; height: 100%; object-fit: cover; object-position: center;"
    />
</div>
  <!-- Sección de registro -->
  <div class="flex-1 flex items-center justify-center bg-red-700">
    <div class="bg-white rounded-lg shadow-lg p-8 w-5/6">
      <form class="space-y-6" (ngSubmit)="onSubmit()" [formGroup]="userForm">
        <h2 class="text-red-700 text-2xl font-bold mb-6">Registrarse</h2>
        <div class="flex flex-col gap-4">
          <!-- Nombre y Apellido -->
          <div class="flex flex-row gap-4">
            <div class="flex-1 mb-4 caret-black">
              <label for="name" class="block text-red-700 mb-1">Nombre</label>
              <input
                id="name"
                type="text"
                name="name"
                formControlName="name"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('name')?.touched && userForm.get('name')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                El nombre es requerido.
              </div>
            </div>
            <div class="flex-1 mb-4 caret-black">
              <label for="surname" class="block text-red-700 mb-1"
                >Apellido</label
              >
              <input
                id="surname"
                type="text"
                name="surname"
                formControlName="surname"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('surname')?.touched && userForm.get('surname')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                El apellido es requerido.
              </div>
            </div>
          </div>
          <!-- Documento de identidad y Fecha de nacimiento -->
          <div class="flex flex-row gap-4">
            <div class="flex-1 mb-4 caret-black">
              <label for="cedula" class="block text-red-700 mb-1"
                >Documento de identidad</label
              >
              <input
                id="cedula"
                type="text"
                name="cedula"
                formControlName="cedula"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('cedula')?.touched && userForm.get('cedula')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                El documento de identidad es requerido.
              </div>
            </div>
            <div class="flex-1 mb-4 caret-black">
              <label for="date_of_birth" class="block text-red-700 mb-1"
                >Fecha de nacimiento</label
              >
              <input
                id="date_of_birth"
                type="date"
                name="date_of_birth"
                formControlName="date_of_birth"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('date_of_birth')?.touched && userForm.get('date_of_birth')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                La fecha de nacimiento es requerida.
              </div>
            </div>
          </div>
          <!-- Correo y Confirmar correo -->
          <div class="flex flex-row gap-4">
            <div class="flex-1 mb-4 caret-black">
              <label for="email" class="block text-red-700 mb-1"
                >Correo electrónico</label
              >
              <input
                id="email"
                type="email"
                name="email"
                formControlName="email"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('email')?.touched && userForm.get('email')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                El correo electrónico es requerido.
              </div>
            </div>
            <div class="flex-1 mb-4 caret-black">
              <label for="confirm_email" class="block text-red-700 mb-1"
                >Confirmar correo electrónico</label
              >
              <input
                id="confirm_email"
                type="email"
                name="confirm_email"
                formControlName="confirm_email"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('confirm_email')?.touched && userForm.get('confirm_email')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                Confirmar correo electrónico es requerido.
              </div>
            </div>
          </div>
          <!-- Contraseña y Confirmar contraseña -->
          <div class="flex flex-row gap-4">
            <div class="flex-1 mb-4 caret-black">
              <label for="password" class="block text-red-700 mb-1"
                >Contraseña</label
              >
              <input
                id="password"
                type="password"
                name="password"
                formControlName="password"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('password')?.touched && userForm.get('password')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                La contraseña es requerida.
              </div>
            </div>
            <div class="flex-1 mb-4 caret-black">
              <label for="confirm_password" class="block text-red-700 mb-1"
                >Confirmar contraseña</label
              >
              <input
                id="confirm_password"
                type="password"
                name="confirm_password"
                formControlName="confirm_password"
                required
                class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-400 bg-white"
              />
              <div
                *ngIf="userForm.get('confirm_password')?.touched && userForm.get('confirm_password')?.errors?.['required']"
                class="text-red-500 text-xs mt-1"
              >
                Confirmar contraseña es requerido.
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="errores" class="text-red-500 text-sm mb-4">
          <div *ngFor="let entry of errores | keyvalue">
            <p *ngFor="let msg of entry.value">{{ msg }}</p>
          </div>
        </div>
        <div class="flex justify-center items-center mb-4">
          <button
            type="submit"
            class="px-4 py-2 bg-red-700 text-white font-semibold rounded hover:bg-red-800 w-full"
          >
            Registrarse
          </button>
        </div>
        <div class="text-center mt-6">


        <ng-container *ngIf="!usuarioCreado">
            <span class="block text-gray-600 mb-2">
                ¿Ya tienes una cuenta?
            </span>
        </ng-container>
        <ng-container *ngIf="usuarioCreado">
            <span class="block text-green-600 mb-2">
                Su usuario ha sido creado, inicie sesión ;).
            </span>
        </ng-container>

          <a
            type="button"
            class="px-6 py-2 bg-white text-red-700 font-bold rounded-full shadow-lg hover:bg-gray-100 transition-all duration-200 text-base border-2 border-red-700 hover:border-red-800"
            routerLink="/login"
          >
            Iniciar Sesión
          </a>
        </div>
      </form>
    </div>
  </div>
</div>